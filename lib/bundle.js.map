{"version":3,"sources":["webpack:///webpack/bootstrap fb410a23e9ef3a3722f0","webpack:///./lib/entry.js","webpack:///./lib/title.js","webpack:///./lib/url.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA,EAAC;AACD;AACA;AACA;AACA;;;;;;;;;AC9BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,2BAA0B,qFAAqF;AAC/G,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,6DAA6D;AACpF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8DAA6D,MAAM;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,2DAA0D,GAAG;AAC7D,MAAK;AACL,2DAA0D,GAAG;AAC7D;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAqD,UAAU,GAAG,iBAAiB,GAAG,gBAAgB;AACtG,MAAK;AACL,sDAAqD,UAAU,GAAG,iBAAiB,GAAG,gBAAgB;AACtG,MAAK;AACL,sDAAqD,UAAU,GAAG,iBAAiB,GAAG,gBAAgB;AACtG,MAAK;AACL,sDAAqD,UAAU,GAAG,iBAAiB,GAAG,gBAAgB;AACtG,MAAK;AACL,0DAAyD,iBAAiB;AAC1E;AACA;;AAEA;AACA,yBAAwB,gBAAgB;AACxC;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fb410a23e9ef3a3722f0\n **/","const Title = require(\"./title\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const title = new Title();\n\n  // let tab = document.getElementById(\"tab\");\n  // tab.addEventListener(\"click\", () => {\n  //   buttonEvent(\"tab\", title.artist, title.title);\n  // });\n  //\n  // let chord = document.getElementById(\"chord\");\n  // chord.addEventListener(\"click\", () => {\n  //   buttonEvent(\"chord\", title.artist, title.title);\n  // });\n  //\n  // let uke = document.getElementById(\"uke\");\n  // uke.addEventListener(\"click\", () => {\n  //   buttonEvent(\"uke\", title.artist, title.title);\n  // });\n  //\n  // let bass = document.getElementById(\"bass\");\n  // bass.addEventListener(\"click\", () => {\n  //   buttonEvent(\"bass\", title.artist, title.title);\n  // });\n\n  window.title = title;\n});\n//\n// const buttonEvent = (type, artist, title) => {\n//   const url = new Url(type, artist, title);\n// };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/entry.js\n ** module id = 0\n ** module chunks = 0\n **/","const Url = require(\"./url\");\n\nclass Title {\n  constructor() {\n    this.getVideoUrl();\n    this.artist = \"\";\n    this.title = \"\";\n    this.bindEvents();\n  }\n\n  bindEvents() {\n    let checkbox = document.getElementById(\"checkbox\");\n    checkbox.addEventListener(\"change\", () => {\n      const artist = this.artist;\n      this.artist = this.title;\n      this.title = artist;\n      artistName.value = this.artist;\n      titleName.value = this.title;\n      this.buttonStatus();\n    });\n\n    let link = document.getElementById(\"link\");\n    link.addEventListener(\"click\", () => {\n      chrome.tabs.create({ url: \"https://www.ultimate-guitar.com/lessons/for_beginners/how_to_read_tabs.html\" });\n    });\n\n    let artistName = document.getElementById(\"artist-name\");\n    artistName.addEventListener(\"keyup\", () => {\n      console.log(this.artist);\n      this.artist = artistName.value;\n      this.buttonStatus();\n    });\n\n    let titleName = document.getElementById(\"title-name\");\n    titleName.addEventListener(\"keyup\", () => {\n      this.title = titleName.value;\n      this.buttonStatus();\n    });\n  }\n\n  buttonStatus() {\n    const buttons = [\"tab\", \"chord\", \"uke\", \"bass\", \"all\"];\n\n    for (let i = 0; i < buttons.length; i++) {\n      if (buttons[i] !== \"all\" &&\n        (this.artist === \"\" ||\n        this.title === \"\")) {\n        this.inactiveButton(buttons[i]);\n      } else if (buttons[i] === \"all\" && this.artist === \"\"){\n        this.inactiveButton(buttons[i]);\n      } else {\n        let url = new Url(buttons[i], this.artist, this.title);\n        url = url.url;\n        $.ajax({\n          url: url,\n          type: 'get',\n          success: () => this.buttonEvent(buttons[i]),\n          error: () => this.inactiveButton(buttons[i])\n        });\n      }\n    }\n  }\n\n  buttonEvent(type) {\n    let url = new Url(type, this.artist, this.title);\n    let button = document.getElementById(type);\n    button.disabled = false;\n    button.style.background = \"linear-gradient(#e52d27, #b31217)\";\n    button.addEventListener(\"click\", () => {\n      url.openNewTab();\n    });\n  }\n\n  inactiveButton(type) {\n    const button = document.getElementById(type);\n    button.style.background = \"#DCDCDC\";\n    button.disabled = true;\n  }\n\n  getVideoUrl() {\n    chrome.tabs.query({'active': true, 'windowId': chrome.windows.WINDOW_ID_CURRENT},\n      (tabs) => {\n        const videoUrl = tabs[0].url.split(\"v=\")[1];\n        this.getVideoId(videoUrl);\n      }\n    );\n  }\n\n  getVideoId(url) {\n    if (url === undefined) {\n      this.buttonStatus();\n    } else {\n      const ampersandPosition = url.indexOf('&');\n      if(ampersandPosition !== -1) {\n        url =  url.substring(0, ampersandPosition);\n      }\n      this.getVideoInfo(url);\n    }\n  }\n\n  getVideoInfo(vidId) {\n    $.get(`https://www.googleapis.com/youtube/v3/videos?id=${vidId}&key=AIzaSyAdg1DdfSfWGLZHtBVINMVRNDHb1lKoAZI&part=snippet`,\n      (data) => {\n        const info = data.items[0].snippet.title;\n        this.getArtist(info);\n        this.getTitle(info);\n        this.buttonStatus();\n      }\n    );\n  }\n\n  getArtist(info) {\n    this.artist = info.split(\" - \")[0];\n    let artistName = document.getElementById(\"artist-name\");\n    artistName.value = this.artist;\n  }\n\n  getTitle(info) {\n    const infoSplit = info.split(\" - \")[1];\n    if (infoSplit === undefined) {\n      this.buttonStatus();\n    } else if (infoSplit[0] === '\"'){\n      this.title = info.split(/^[^\\\"]*\\\"([a-z0-9\\ \\-\\'\\.]{1,})/i)[1];\n    } else {\n      this.title = info.split(/^[^\\-]*\\-([a-z0-9\\ \\-\\'\\.]{1,})/i)[1].trim();\n    }\n    let titleName = document.getElementById(\"title-name\");\n    titleName.value = this.title;\n  }\n}\n\nmodule.exports = Title;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/title.js\n ** module id = 3\n ** module chunks = 0\n **/","class Url {\n  constructor(type, artist, title) {\n    this.url = \"\";\n    this.createUrl(type, artist, title);\n  }\n\n  createUrl(type, artist, title) {\n    title = title.replace(\"'\", \"\");\n    artist = artist.replace(\"'\", \"\");\n    const titleUnderscore = title.split(\" \").join(\"_\");\n    const artistUnderscore = artist.split(\" \").join(\"_\");\n    const urlLetter = artist.charAt(0);\n\n    if (type === \"tab\") {\n      this.url = `https://tabs.ultimate-guitar.com/${urlLetter}/${artistUnderscore}/${titleUnderscore}_tab.htm`;\n    } else if (type === \"chord\") {\n      this.url = `https://tabs.ultimate-guitar.com/${urlLetter}/${artistUnderscore}/${titleUnderscore}_crd.htm`;\n    } else if (type === \"uke\") {\n      this.url = `https://tabs.ultimate-guitar.com/${urlLetter}/${artistUnderscore}/${titleUnderscore}_ukulele_crd.htm`;\n    } else if (type === \"bass\") {\n      this.url = `https://tabs.ultimate-guitar.com/${urlLetter}/${artistUnderscore}/${titleUnderscore}_btab.htm`;\n    } else {\n      this.url = `https://www.ultimate-guitar.com/tabs/${artistUnderscore}_tabs.htm`;\n    }\n  }\n\n  openNewTab() {\n    chrome.tabs.create({ url: this.url });\n  }\n}\n\nmodule.exports = Url;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/url.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}